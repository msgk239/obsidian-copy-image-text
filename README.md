# 复制图文 (Copy Image Text)

复制图文 (Copy Image Text) 是一个 Obsidian 插件,允许用户将笔记内容(包括文本和图片)复制到剪贴板,同时保持格式。

## 功能

- 支持两种复制模式：
  - 复制文本和图片(富文本格式)：适合复制到 Word、微信公众号等富文本编辑器
  - 复制为 Markdown 格式：适合复制到其他 Markdown 编辑器
- 自动将 Obsidian 内部图片（`![[...]]` 格式）转换为内联 base64 格式（富文本模式）或标准 Markdown 图片链接（Markdown 模式）
- **新增：** 在富文本模式下，支持处理 `![](file:///...)` 格式的本地外部图片链接，并将其转换为内联 base64 格式。
- **新增：** 在富文本模式下，支持处理 `==高亮==` 语法，并将其转换为带黄色背景的 HTML 文本。
- **新增：** 支持将笔记内容导出为 HTML 文件，方便在浏览器中查看或分享。
- 保持 Markdown 格式,包括标题、粗体、斜体、代码块等
- 特别优化了在微信公众号编辑器中的显示

## 安装

1. 打开 Obsidian 设置
2. 进入"第三方插件"设置页面
3. 确保"安全模式"已关闭
4. 点击"浏览社区插件"
5. 搜索"复制图文"
6. 点击"安装"
7. 安装完成后,启用该插件

## 使用方法

1. 在 Obsidian 中打开一个笔记
2. 选择要复制的文本(如果没有选择,将复制整个文档)
3. 使用命令面板执行以下命令之一：
   - "复制文本和图片(富文本)"：复制为富文本格式
   - "复制为 Markdown 格式"：复制为标准 Markdown 格式
4. 在目标应用程序中粘贴内容

提示：你可以在 Obsidian 设置的"快捷键"中为这两个命令设置快捷键，使用起来会更方便。

## 开发说明

本插件使用 TypeScript 开发。如果您想贡献代码：

1. 克隆仓库后，运行 `npm install` 安装依赖。
2. 修改 TypeScript 源代码后，运行 `npm run build` 来编译。
3. 编译后的 `main.js` 文件不包含在版本控制中，但需要手动包含在发行版中。

注意：发布新版本时，请确保先运行 `npm run build`，然后将生成的 `main.js` 文件添加到发行包中。

## 注意事项

- 图片大小限制为 10MB,超过此大小的图片将不会被复制
- 某些特殊格式可能在某些目标应用程序中无法完全保留
- 请确保您有权复制和分享笔记中包含的图片
- 使用 Markdown 格式复制时的小贴士：
  - 如果你想把文档发布到 GitHub 或博客等平台，建议按以下步骤操作：
    1. 使用支持图床上传的编辑器（比如 Typora + PicList）
    2. 先将文档中的图片上传到图床（在 Typora 中已测试可用）
    3. 这样图片就变成了在线链接
    4. 然后直接复制整篇文档即可，因为此时文档中的图片都是在线链接了
  - Obsidian 可能也有类似的图床上传插件可以实现此功能（未经测试）

## 反馈和支持

如果您遇到任何问题或有改进建议,请在 GitHub 仓库中提出 issue。

## 许可证

本插件采用 MIT 许可证。详情请参阅 [LICENSE](LICENSE) 文件。

## 作者

由 msgk 开发和维护。

## 版本

当前版本: 1.1.3
